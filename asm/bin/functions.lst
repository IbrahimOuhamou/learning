     1                                 %line 1+1 functions.asm
     2                                 
     3                                 
     4                                 [section .data]
     5 00000000 00                     bismi_allah_num db 0
     6                                 
     7 00000001 140000001400000019-    arr dd 20, 20, 25, 30, 30
     8 00000001 0000001E0000001E00-
     9 00000001 0000               
    10 00000015 05000000               len dd 5
    11 00000019 00000000               min dd 0
    12 0000001D 00000000               sum dd 0
    13 00000021 00000000               ave dd 0
    14 00000025 00000000               med1 dd 0
    15 00000029 00000000               med2 dd 0
    16 0000002D 00000000               max dd 0
    17                                 
    18                                 [section .text]
    19                                 [global bismi_allah_function]
    20                                 [global bismi_allah_function_extended]
    21                                 [global _start]
    22                                 
    23                                 _start:
    24                                 
    25 00000000 48C7C7[00000000]        mov rdi, arr
    26 00000007 8B3425[00000000]        mov esi, dword [len]
    27 0000000E 48C7C2[00000000]        mov rdx, sum
    28 00000015 48C7C1[00000000]        mov rcx, ave
    29 0000001C E848000000              call bismi_allah_function
    30                                 
    31 00000021 68[00000000]            push ave
    32 00000026 68[00000000]            push sum
    33 0000002B 49C7C1[00000000]        mov r9, max
    34 00000032 49C7C0[00000000]        mov r8, med2
    35 00000039 48C7C1[00000000]        mov rcx, med1
    36 00000040 48C7C2[00000000]        mov rdx, min
    37 00000047 8B3425[00000000]        mov esi, dword [len]
    38 0000004E 48C7C7[00000000]        mov rdi, arr
    39 00000055 E835000000              call bismi_allah_function_extended
    40 0000005A 4883C410                add rsp, 16
    41                                 end:
    42                                 
    43 0000005E 48C7C03C000000          mov rax, 60
    44 00000065 48C7C700000000          mov rdi, 0
    45 0000006C 0F05                    syscall
    46                                 
    47                                 
    48                                 bismi_allah_function:
    49                                 
    50                                 
    51                                 
    52                                 
    53                                 
    54 0000006E 4154                    push r12
    55 00000070 49C7C400000000          mov r12, 0
    56 00000077 48C7C000000000          mov rax, 0
    57                                 
    58                                 bismi_allah_function_loop_start:
    59 0000007E 420304A7                add eax, dword [rdi + r12*4]
    60 00000082 49FFC4                  inc r12
    61 00000085 4939F4                  cmp r12, rsi
    62 00000088 72F2                    jb bismi_allah_function_loop_start
    63                                 
    64                                 bismi_allah_function_end:
    65 0000008A 8902                    mov dword [rdx], eax
    66                                 
    67 0000008C 99                      cdq
    68 0000008D F7FE                    idiv esi
    69 0000008F 8901                    mov dword [rcx], eax
    70                                 
    71 00000091 415C                    pop r12
    72 00000093 C3                      ret
    73                                 
    74                                 
    75                                 
    76                                 
    77                                 
    78                                 
    79                                 
    80                                 
    81                                 
    82                                 
    83                                 bismi_allah_function_extended:
    84 00000094 55                      push rbp
    85 00000095 4889E5                  mov rbp, rsp
    86 00000098 4154                    push r12
    87                                 
    88                                 
    89 0000009A 8B07                    mov eax, dword [rdi]
    90 0000009C 8902                    mov dword [rdx], eax
    91                                 
    92                                 
    93 0000009E 4989F4                  mov r12, rsi
    94 000000A1 49FFCC                  dec r12
    95 000000A4 428B04A7                mov eax, dword [rdi + r12*4]
    96 000000A8 418901                  mov dword [r9], eax
    97                                 
    98                                 
    99 000000AB 89F0                    mov eax, esi
   100 000000AD 48C7C200000000          mov rdx, 0
   101 000000B4 49C7C402000000          mov r12, 2
   102 000000BB 49F7F4                  div r12
   103                                 
   104 000000BE 4883FA00                cmp rdx, 0
   105 000000C2 740A                    je even_length
   106                                 
   107 000000C4 448B2487                mov r12d, dword [rdi + rax*4]
   108 000000C8 448921                  mov dword [rcx], r12d
   109 000000CB 458920                  mov dword [r8], r12d
   110 000000CE EB0F                    jmp meds_done
   111                                 
   112                                 even_length:
   113 000000D0 448B2487                mov r12d, dword [rdi + rax*4]
   114 000000D4 458920                  mov dword [r8], r12d
   115 000000D7 48FFC8                  dec rax
   116 000000DA 448B2487                mov r12d, dword [rdi + rax*4]
   117 000000DE 448921                  mov dword [rcx], r12d
   118                                 
   119                                 meds_done:
   120                                 
   121                                 
   122                                 
   123 000000E1 48C7C000000000          mov rax, 0
   124 000000E8 49C7C400000000          mov r12, 0
   125                                 bismi_allah_function_extended_loop_start:
   126 000000EF 420304A7                add eax, dword [rdi + r12*4]
   127 000000F3 49FFC4                  inc r12
   128 000000F6 4939F4                  cmp r12, rsi
   129 000000F9 7CF2                    jl bismi_allah_function_extended_loop_start
   130                                 
   131 000000FB 4C8B6510                mov r12, qword [rbp + 16]
   132 000000FF 41890424                mov dword [r12], eax
   133                                 
   134 00000103 99                      cdq
   135 00000104 48F7FE                  idiv rsi
   136 00000107 4C8B6518                mov r12, qword [rbp + 24]
   137 0000010B 41890424                mov dword [r12], eax
   138                                 
   139 0000010F 415C                    pop r12
   140 00000111 5D                      pop rbp
   141 00000112 C3                      ret
   142                                 
